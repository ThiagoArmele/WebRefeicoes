<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"  
    xmlns:p="http://primefaces.org/ui">  
<h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>
       Web Refeicoes
    </title>
    <h:outputStylesheet library="bootstrap/css" name="bootstrap.min.css" />
    <h:outputStylesheet library="bootstrap/css" name="bootstrap.css" />
    <h:outputStylesheet library="css" name="Menu.css" />
    <h:outputStylesheet library="css" name="util.css" />
    <h:outputStylesheet library="css" name="WebRefeicoes.css" />
    <h:outputStylesheet name="webjars/font-awesome/4.4.0/css/font-awesome.css"/>
    <h:outputScript library="jquery" name="jquery-ui-1.9.2.custom.js" />
    <h:outputScript library="bootstrap/js" name="bootstrap.js" />
    <h:outputScript library="bootstrap/js" name="bootstrap.min.js" />
    <h:outputScript library="jquery" name="jqueryMaskedPlugin.js" />
</h:head>

<h:body>
			<div class="container-fluid" id='cardapio'>
			
				<h:form id="formulario">
					<p:growl id="messages" life="5000"/>
					 		<div id='informacaoPedido' style="border: 3px double #e84e4e;display: inline-block;background: #ffffff;">
						 		<div  style="background: #e84e4e; color: white;border-bottom: 3px dashed #e84e4e;display: -webkit-box;">
							 		<div class="col-lg-5 form-group">
										<p:outputLabel for="nome" value="Nome:   " />
										<h:outputText style="width: 100%" 
										id="nome"
										value="#{pedidoController.nomeCliente}"
										/>
									</div>
							 		<div class="col-lg-7 form-group">
										<p:outputLabel for="entrega" value="Endereço de Entrega:    " />
										<h:outputText style="width: 100%" 
										id="entrega"
										disabled="true"
										value="#{pedidoController.pedido.enderecoEntrega}"/>
									</div>
						 		</div>
						 		<div  class="col-lg-12">
						 			<div class="col-lg-12 form-group">
										<p:outputLabel for="Codigo" value="Código do Pedido:  " />
										<h:outputText style="width: 100%" 
										id="Codigo"
										disabled="true"
										value="#{pedidoController.pedido.codigo}"/>
									</div>
						 		</div>
						 		
					 			<div  class="col-lg-12">
									<div class="col-lg-6 form-group">
										<p:outputLabel for="Mistura" value="Misturas:  " />
										<h:outputText style="width: 100%" 
										id="Mistura"
										disabled="true"
										value="#{pedidoController.pedido.mistura}"/>
									</div>
									<div class="col-lg-6 form-group">
										<p:outputLabel for="Guarnicao" value="Guarnições:  " />
										<h:outputText style="width: 100%" 
										id="Guarnicao"
										disabled="true"
										value="#{pedidoController.pedido.guarnicao}"/>
									</div>
								</div>
								
								<div  class="col-lg-12">
									<div class="col-lg-12 form-group">
										<p:outputLabel for="outro" value="Outros: " />
										<h:outputText style="width: 100%" 
										id="outro"
										disabled="true"
										value="#{pedidoController.pedido.outro}"/>
									</div>
								</div>
								
								<div  class="col-lg-12">	
									<div class="col-lg-7 form-group">
										<p:outputLabel for="descricaoPrato" value="Prato: " />
										<h:outputText style="width: 100%" 
										id="descricaoPrato"
										disabled="true"
										value="#{pedidoController.pedido.descricaoPrato}"/>
									</div>
									
									<div class="col-lg-5 form-group">
										<p:outputLabel for="observacao" value="Observação: " />
										<h:outputText style="width: 100%" 
										id="observacao"
										disabled="true"
										value="#{pedidoController.pedido.observacao}"/>
									</div>
								</div>
								
								<div  class="col-lg-12">
									<div class="col-lg-6 form-group">
										<p:outputLabel for="quilo" value="Quilo: " />
										<h:outputText style="width: 100%" 
										id="quilo"
										disabled="true"
										value="#{pedidoController.pedido.quilo}"/>
									</div>
									<div class="col-lg-3 form-group"  style="color: #088308;font-size: 17px;">
										<p:outputLabel for="valorQuilo" value="Valor do Quilo: " />
										R$<h:outputText style="width: 100%" 
										id="valorQuilo"
										disabled="true"
										value="#{pedidoController.pedido.valorQuilo}">
										<f:convertNumber pattern="#0.00"/>
										</h:outputText>
									</div>
									<div class="col-lg-3 form-group" style="color: #088308;font-size: 17px;">
										<p:outputLabel for="valor" value="Valor Total:  " />
										R$<h:outputText style="width: 100%" 
										id="valor"
										disabled="true"
										value="#{pedidoController.pedido.valorTotal}">
										<f:convertNumber pattern="#0.00"/>
										</h:outputText>
									</div>
								</div>
								<div  class="col-lg-12">
									<div class="col-lg-3 form-group">
										<p:outputLabel for="tipo" value="Status: " />
										<p:selectOneMenu id="tipo" value="#{pedidoController.pedido.statusPedido}" style="width: 100%">
											  <f:selectItem itemLabel='Aguardando Verificação' itemValue="Aguardando Verificação"/> 
											  <f:selectItem itemLabel='Aguardando Preparo' itemValue="Aguardando Preparo"/> 
											  <f:selectItem itemLabel='Aguardando Encaminhamento' itemValue="Aguardando Encaminhamento"/> 
											  <f:selectItem itemLabel='Entregue' itemValue="Entregue"/> 
								        </p:selectOneMenu>
									</div>
									
									<div class="col-lg-3 form-group">
										<p:outputLabel for="pagamento" value="Forma de Pagamento: " />
										<h:outputText style="width: 100%" 
										id="pagamento"
										disabled="true"
										value="#{pedidoController.pedido.formaPagamento}"/>
									</div>
									
									<div class="col-lg-3 form-group">
										<p:outputLabel for="bandeira" value="Bandeira do Cartão: " />
										<h:outputText style="width: 100%" 
										id="bandeira"
										disabled="true"
										value="#{pedidoController.pedido.bandeiraCartao}"/>
									</div>
									
									<div class="col-lg-3 form-group">
										<p:outputLabel for="pagamento" value="Trazer troco para:" />
										R$<h:outputText style="width: 100%" 
										id="troco"
										disabled="true"
										value="#{pedidoController.pedido.troco}">
											<f:convertNumber pattern="#0.00"/>
										</h:outputText>
									</div>
								</div>
							</div>
							<div  class="col-lg-12 form-group" style="text-align: right; padding-top: 10px">
							  <p:commandButton value= "Alterar Pedido" update="formulario:messages gridPedido" styleClass=" btn btn-success" action="#{pedidoController.adicionarPedido}" >
							  </p:commandButton>
							</div>
					</h:form>
			</div>
			
			<p:dataTable id='gridPedido' emptyMessage="Nenhum Pedido Encontrado"
			scrollable="true"
			selectionMode="single"
			var="pedido" 
			lazy="false"
			style="padding: 0px 15px;"
			scrollHeight="600"
			selection="#{pedidoController.selecionaPedido}"
			rowKey="#{pedido.codigo}"
			value="#{pedidoController.listaPedidos()}">
				<p:ajax update="formulario"  event="rowSelect" listener="#{pedidoController.trazerDados}"/>
				
				<p:column headerText=""
   					style='width: 100px;text-align: center'>
   					<h:form>
	   					<p:commandButton 
	   					styleClass="btn btn-danger"
	   					update="gridPedido" action="#{pedidoController.excluirPedido(pedido)}" value="Excluir">
	   					</p:commandButton>
   					</h:form>
   				</p:column>
				
				<p:column headerText="Status"
   					style="width: 200px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.statusPedido}">
   					<h:outputText value="#{pedido.statusPedido}"/>
   				</p:column>
				
   				<p:column headerText="Código"
   					style="width: 90px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.codigo}">
   					<h:outputText value="#{pedido.codigo}" />
   				</p:column>


				<p:column headerText="Tamanho"
   					style="width: 100px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.tamanho}">
   					<h:outputText value="Pequena" rendered="#{pedido.idEmbalagem == 1}"/>
   					<h:outputText value="Média" rendered="#{pedido.idEmbalagem == 2}"/>
   					<h:outputText value="Grande" rendered="#{pedido.idEmbalagem == 3}"/>
   				</p:column>
				
				
				<p:column headerText="Guarnições"
   					style="width: 300px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.guarnicao}">
   					<h:outputText value="#{pedido.guarnicao}"/>
   				</p:column>
				
				<p:column headerText="Misturas"
   					style="width: 300px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.mistura}">
   					<h:outputText value="#{pedido.mistura}"/>
   				</p:column>
   				
   				<p:column headerText="Outros"
   					style="width: 250px;text-align: left"
   					filterMatchMode="contains"
   					sortBy="#{pedido.outro}">
   					<h:outputText value="#{pedido.outro}"/>
   				</p:column>
   				
				<p:column headerText="Prato Pronto"
   					style="width: 350px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.descricaoPrato}">
   					<h:outputText value="#{pedido.descricaoPrato}"/>
   				</p:column>
   				
   				<p:column headerText="Observação"
   					style="width: 250px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.observacao}">
   					<h:outputText value="#{pedido.observacao}"/>
   				</p:column>
   				
   				<p:column headerText="Valor Total"
   					style="width: 150px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.valorTotal}">
   					R$<h:outputText value="#{pedido.valorTotal}">
   					 	<f:convertNumber pattern="#0.00"/>
   					</h:outputText>
   				</p:column>
   				
   				<p:summaryRow>
		            <p:column>
		                <h:outputText value="#{pedido.valorTotal}">
		                </h:outputText>
		            </p:column>
      		  	</p:summaryRow>
   				
   			</p:dataTable>
		
  </h:body>
</html>  