<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"  
    xmlns:p="http://primefaces.org/ui">  
<h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>
       Web Refeicoes
    </title>
    <h:outputStylesheet library="bootstrap/css" name="bootstrap.min.css" />
    <h:outputStylesheet library="bootstrap/css" name="bootstrap.css" />
    <h:outputStylesheet library="css" name="Menu.css" />
    <h:outputStylesheet library="css" name="util.css" />
    <h:outputStylesheet library="css" name="WebRefeicoes.css" />
    <h:outputStylesheet library="css" name="Avaliacao.css" />
    <h:outputStylesheet name="webjars/font-awesome/4.4.0/css/font-awesome.css"/>
    <h:outputScript library="jquery" name="jquery-ui-1.9.2.custom.js" />
    <h:outputScript library="bootstrap/js" name="bootstrap.min.js" />
     <h:outputScript library="jquery" name="jqueryMaskedPlugin.js" />
</h:head>

<h:body>
			<div class="container-fluid" id='cardapio'>
			
				<h:form id="formulario">
					<p:growl id="messages" life="5000"/>
					 		<div id='informacaoPedido' style="border: 3px double #e84e4e;display: inline-block;background: #ffffff;">
						 		<div  style="background: #e84e4e; color: white;border-bottom: 3px dashed #e84e4e;display: -webkit-box;">
							 		<div class="col-lg-5 form-group">
										<p:outputLabel for="nome" value="Nome:   " />
										<h:outputText style="width: 100%" 
										id="nome"
										value="#{pedidoClienteController.nomeCliente}"
										/>
									</div>
							 		<div class="col-lg-7 form-group">
										<p:outputLabel for="entrega" value="Endereço de Entrega:    " />
										<h:outputText style="width: 100%" 
										id="entrega"
										disabled="true"
										value="#{pedidoClienteController.pedido.enderecoEntrega}"/>
									</div>
						 		</div>
						 		<div  class="col-lg-12">
						 			<div class="col-lg-12 form-group">
										<p:outputLabel for="Codigo" value="Código do Pedido:  " />
										<h:outputText style="width: 100%" 
										id="Codigo"
										disabled="true"
										value="#{pedidoClienteController.pedido.codigo}"/>
									</div>
						 		</div>
						 		
					 			<div  class="col-lg-12">
									<div class="col-lg-6 form-group">
										<p:outputLabel for="Mistura" value="Misturas:  " />
										<h:outputText style="width: 100%" 
										id="Mistura"
										disabled="true"
										value="#{pedidoClienteController.pedido.mistura}"/>
									</div>
									<div class="col-lg-6 form-group">
										<p:outputLabel for="Guarnicao" value="Guarnições:  " />
										<h:outputText style="width: 100%" 
										id="Guarnicao"
										disabled="true"
										value="#{pedidoClienteController.pedido.guarnicao}"/>
									</div>
								</div>
								
								<div  class="col-lg-12">
									<div class="col-lg-12 form-group">
										<p:outputLabel for="outro" value="Outros: " />
										<h:outputText style="width: 100%" 
										id="outro"
										disabled="true"
										value="#{pedidoClienteController.pedido.outro}"/>
									</div>
								</div>
								
								<div  class="col-lg-12">	
									<div class="col-lg-7 form-group">
										<p:outputLabel for="descricaoPrato" value="Prato: " />
										<h:outputText style="width: 100%" 
										id="descricaoPrato"
										disabled="true"
										value="#{pedidoClienteController.pedido.descricaoPrato}"/>
									</div>
									
									<div class="col-lg-5 form-group">
										<p:outputLabel for="observacao" value="Observação: " />
										<h:outputText style="width: 100%" 
										id="observacao"
										disabled="true"
										value="#{pedidoClienteController.pedido.observacao}"/>
									</div>
								</div>
								
								<div  class="col-lg-12">
									<div class="col-lg-6 form-group">
										<p:outputLabel for="quilo" value="Quilo: " />
										<h:outputText style="width: 100%" 
										id="quilo"
										disabled="true"
										value="#{pedidoClienteController.pedido.quilo}"/>
									</div>
									<div class="col-lg-3 form-group"  style="color: #088308;font-size: 17px;">
										<p:outputLabel for="valorQuilo" value="Valor do Quilo: " />
										R$<h:outputText style="width: 100%" 
										id="valorQuilo"
										disabled="true"
										value="#{pedidoClienteController.pedido.valorQuilo}">
										<f:convertNumber pattern="#0.00"/>
										</h:outputText>
									</div>
									<div class="col-lg-3 form-group" style="color: #088308;font-size: 17px;">
										<p:outputLabel for="valor" value="Valor Total:  " />
										R$<h:outputText style="width: 100%" 
										id="valor"
										disabled="true"
										value="#{pedidoClienteController.pedido.valorTotal}">
										<f:convertNumber pattern="#0.00"/>
										</h:outputText>
									</div>
								</div>
								<div  class="col-lg-12">
									<div class="col-lg-4 form-group">
										<p:outputLabel for="tipo" value="Status: " />
										<h:outputText id="tipo" value="#{pedidoClienteController.pedido.statusPedido}" style="width: 100%">
								        </h:outputText>
									</div>
								</div>
							</div>
					</h:form>
			</div>
			
			<p:dataTable id='gridPedido' emptyMessage="Nenhum Pedido Encontrado"
			scrollable="true"
			selectionMode="single"
			var="pedido" 
			lazy="false"
			style="padding: 0px 15px;"
			scrollHeight="150px"
			selection="#{pedidoClienteController.selecionaPedido}"
			rowKey="#{pedido.codigo}"
			value="#{pedidoClienteController.listaPedidos()}">
				<p:ajax update="formulario"  event="rowSelect" listener="#{pedidoClienteController.trazerDados}"/>
				
				<p:column headerText=""
   					style='width: 100px;text-align: center'>
   					<h:form>
	   					<p:commandButton 
	   					styleClass="btn btn-success"
	   					disabled="#{pedido.avaliado}"
	   					action="#{pedidoClienteController.adicionarPedido}"
	   					update="gridPedido formulario:messages" value="Avaliar">
	   					</p:commandButton>
   					</h:form>
   				</p:column>
				
				<p:column headerText="Status"
   					style="width: 200px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.statusPedido}">
   					<h:outputText value="#{pedido.statusPedido}"/>
   				</p:column>
				
   				<p:column headerText="Código"
   					style="width: 90px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.codigo}">
   					<h:outputText value="#{pedido.codigo}" />
   				</p:column>


				<p:column headerText="Tamanho"
   					style="width: 100px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.tamanho}">
   					<h:outputText value="Pequena" rendered="#{pedido.idEmbalagem == 1}"/>
   					<h:outputText value="Média" rendered="#{pedido.idEmbalagem == 2}"/>
   					<h:outputText value="Grande" rendered="#{pedido.idEmbalagem == 3}"/>
   				</p:column>
				
				
				<p:column headerText="Guarnições"
   					style="width: 300px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.guarnicao}">
   					<h:outputText value="#{pedido.guarnicao}"/>
   				</p:column>
				
				<p:column headerText="Misturas"
   					style="width: 300px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.mistura}">
   					<h:outputText value="#{pedido.mistura}"/>
   				</p:column>
   				
   				<p:column headerText="Outros"
   					style="width: 250px;text-align: left"
   					filterMatchMode="contains"
   					sortBy="#{pedido.outro}">
   					<h:outputText value="#{pedido.outro}"/>
   				</p:column>
   				
				<p:column headerText="Prato Pronto"
   					style="width: 350px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.descricaoPrato}">
   					<h:outputText value="#{pedido.descricaoPrato}"/>
   				</p:column>
   				
   				<p:column headerText="Observação"
   					style="width: 250px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.observacao}">
   					<h:outputText value="#{pedido.observacao}"/>
   				</p:column>
   				
   				<p:column headerText="Valor Total"
   					style="width: 150px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{pedido.valorTotal}">
   					R$<h:outputText value="#{pedido.valorTotal}">
   					 	<f:convertNumber pattern="#0.00"/>
   					</h:outputText>
   				</p:column>
   				
   				
   			</p:dataTable>
   			<p:dialog draggable="false" resizable="false" height="450px" width= "600px" responsive="true" header="Avaliação" widgetVar="dlg" modal="true" style="padding: 0px">
		        <div class="container-fluid" id='avaliacao' style="padding: 0px;">
					<h:form>
						<p:growl id="messages" life="5000"/>
						<div class="row">
					        <div class="wizard">
					            <div class="wizard-inner">
					                <div class="connecting-line"></div>
					                <ul class="nav nav-tabs" role="tablist">
					                    <li role="presentation" class="active">
					                        <a href="#step1" data-toggle="tab" aria-controls="step1" role="tab" title="Step 1">
					                            <span class="round-tab">
					                             	<img src="resources/images/comida.png" height="50px" style="padding-top: 10px;"></img>
					                            </span>
					                        </a>
					                    </li>
					
					                    <li role="presentation">
					                        <a href="#step2" data-toggle="tab" aria-controls="step2" role="tab" title="Step 2">
					                            <span class="round-tab">
					                                <img src="resources/images/tempo.png" height="50px" style="padding-top: 10px;"></img>
					                            </span>
					                        </a>
					                    </li>
					                    <li role="presentation" >
					                        <a href="#step3" data-toggle="tab" aria-controls="step3" role="tab" title="Step 3">
					                            <span class="round-tab">
					                                <img src="resources/images/entrega.png" height="50px" style="padding-top: 10px;"></img>
					                            </span>
					                        </a>
					                    </li>
					
					                </ul>
					            </div>
					               <div class="tab-content">
					                   <div class="tab-pane active" role="tabpanel" id="step1">
					                   	  <p style="padding-left: 23px;font-weight: bold;padding-right: 23px;">O que achou da comida? :)</p>
					                      <p:selectOneButton required="true" requiredMessage="Avaliação sobre comida é obrigatório" value="#{avaliacaoController.avaliacao.pontuacaoComida}">
								            <f:selectItem itemLabel="Ruim" itemValue="1" />
								            <f:selectItem itemLabel="Médio" itemValue="2" />
								            <f:selectItem itemLabel="Bom" itemValue="3" />
								          </p:selectOneButton>
					                   </div>
					                   <div class="tab-pane" role="tabpanel" id="step2">
					                   	   <p style="padding-left: 23px;font-weight: bold;padding-right: 23px;">O que achou do tempo de preparo para sua comida? :)</p>
					                       <p:selectOneButton required="true" requiredMessage="Avaliação sobre tempo é obrigatório" value="#{avaliacaoController.avaliacao.pontuacaoTempo}">
								            <f:selectItem itemLabel="Ruim" itemValue="1" />
								            <f:selectItem itemLabel="Médio" itemValue="2" />
								            <f:selectItem itemLabel="Bom" itemValue="3" />
								          </p:selectOneButton>
					                   </div>
					                   <div class="tab-pane" role="tabpanel" id="step3">
					                   	   <p style="padding-left: 23px;font-weight: bold;padding-right: 23px;">O que achou sobre a entrega? :)</p>
					                       <p:selectOneButton required="true" requiredMessage="Avaliação sobre entrega é obrigatório" value="#{avaliacaoController.avaliacao.pontuacaoEntrega}">
								            <f:selectItem itemLabel="Ruim" itemValue="1" />
								            <f:selectItem itemLabel="Médio" itemValue="2" />
								            <f:selectItem itemLabel="Bom" itemValue="3" />
								          </p:selectOneButton>
					                   </div>
					               </div>
					               <div style="padding: 0px 20px">
					               		<p:outputLabel value="Adorariamos saber o que pensa, compartilhe com a gente"></p:outputLabel>
					               		<p:inputTextarea rows="4" style="width: 100%" value="#{avaliacaoController.avaliacao.comentario}" />
					               </div>
				                   <div style="text-align: right;padding: 3px 20px">
				                	<p:commandButton value= "Enviar Avaliação" update="messages" styleClass="btn btn-success" action="#{avaliacaoController.adicionarAvaliacao}" >
			 						</p:commandButton>
				               	   </div>
					        </div>
					   </div>
					</h:form>
			</div>
	    </p:dialog>
  </h:body>
</html>  