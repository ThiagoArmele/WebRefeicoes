<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"  
    xmlns:p="http://primefaces.org/ui">  
<h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>
       Web Refeicoes
    </title>
    <h:outputStylesheet library="bootstrap/css" name="bootstrap.min.css" />
    <h:outputStylesheet library="bootstrap/css" name="bootstrap.css" />
    <h:outputStylesheet library="css" name="Menu.css" />
    <h:outputStylesheet library="css" name="util.css" />
    <h:outputScript library="jquery" name="jquery-ui-1.9.2.custom.js" />
    <h:outputScript library="bootstrap/js" name="bootstrap.min.js" />
    <script>
			var camposHabilitados = "nao";
			
			function habilitarCampos() {
				if(camposHabilitados === "nao"){
					document.getElementById("formulario:RuaEntrega").disabled = true;
					document.getElementById("formulario:NumeroEntrega").disabled = true;
					document.getElementById("formulario:BairroEntrega").disabled = true;
					document.getElementById("formulario:CidadeEntrega").disabled = true;
					document.getElementById("formulario:CEPEntrega").disabled = true;
					camposHabilitados = "sim";
				} else {
					document.getElementById("formulario:RuaEntrega").disabled = false;
					document.getElementById("formulario:NumeroEntrega").disabled = false;
					document.getElementById("formulario:BairroEntrega").disabled = false;
					document.getElementById("formulario:CidadeEntrega").disabled = false;
					document.getElementById("formulario:CEPEntrega").disabled = false;
					camposHabilitados = "nao";
				}
			}
	    </script>
</h:head>

<h:body>
			<div class="row">
			
				<h:form id="formulario">
					<p:messages id="messages" style="padding: 5px"/>
					
					<div class="col-lg-1 form-group">
						<p:inputText style="width: 100%" 
						id="Codigo"
						 value="#{clienteController.cliente.codigo}"
						placeholder="Codigo" />
					</div>
					<div class="col-lg-5 form-group">
						<p:inputText style="width: 100%" 
						 value="#{clienteController.cliente.nome}"
						 required="true" 
						 requiredMessage="Campo 'Nome' é obrigatório."
						 placeholder="Nome"
						 id="Nome" />
						 
					</div>
					<div class="col-lg-2 form-group">
						<p:inputText  style="width: 100%"  placeholder="CPF" 
						required="true" 
						id="CPF" 
						requiredMessage="Campo 'CPF' é obrigatório."
						value="#{clienteController.cliente.cpf}"
						/>
					</div>
					<div class="col-lg-2 form-group">
						<p:inputText style="width: 100%"  placeholder="RG" 
						required="true" 
						id="RG"
						requiredMessage="Campo 'RG' é obrigatório."
						value="#{clienteController.cliente.rg}"
						/>
					</div>
					<div class="col-lg-2 form-group">
						<p:calendar 
						placeholder="Data de Nascimento"  
						value="#{clienteController.cliente.dataNascimento}"
						pattern="dd/MM/yyyy"
						locale="de" navigator="true"
						requiredMessage="Campo 'Data de Nascimento' é obrigatório."
						style="width: 100%" 
						required="true"  
						id="DataNascimento"
						 mask="true" />
					</div>
					<div class="col-lg-1 form-group">
						<p:inputText style="width: 100%"  
						id="DDDTelefone" 
						value="#{clienteController.cliente.dddTelefone}"
						placeholder="DDD" />
					</div>
					<div class="col-lg-2 form-group">
						<p:inputText style="width: 100%" 
						id="Telefone" 
						placeholder="Telefone" 
						value="#{clienteController.cliente.telefone}"
						/>
					</div>
					<div class="col-lg-1 form-group">
						<p:inputText style="width: 100%" 
						id="DDDCelular"
						placeholder="DDD"
						value="#{clienteController.cliente.dddCelular}"
						 />
					</div>
					<div class="col-lg-2 form-group">
						<p:inputText style="width: 100%"
						id="Celular"
						placeholder="Celular" 
						value="#{clienteController.cliente.celular}"
						/>
					</div>
					<div class="col-lg-3 form-group">
						<p:inputText style="width: 100%"  
						id="Usuario"
						placeholder="Usuario" 
						requiredMessage="Campo 'Usuário' é obrigatório."
						required="true" 
						value="#{clienteController.cliente.usuario}"
						/>
					</div>
					<div class="col-lg-3 form-group">
						<p:password id='senha' style="width: 100%"  placeholder="Senha" 
						required="true" 
						requiredMessage="Campo 'Senha' é obrigatório."
						redisplay="true"
						value="#{clienteController.cliente.senha}"
						/>
					</div>
					<div class="col-lg-3 form-group">
						<p:selectOneMenu id="empresa" value="#{clienteController.cliente.empresa}" placeholder="Empresa" style="width: 100%">
							  <f:selectItems value="#{clienteController.empresas}"/>
				        </p:selectOneMenu>
					</div>
					<div class="col-lg-3 form-group">
						<p:inputText style="width: 100%"  
						id="Rua"
						placeholder="Rua" 	
						value="#{clienteController.cliente.rua}"
						/>
					</div>
					<div class="col-lg-2 form-group">
						<p:inputText style="width: 100%" 
						id="Número"
						placeholder="Número" 
						value="#{clienteController.cliente.numEnd}"
						/>
					</div>
					<div class="col-lg-4 form-group">
						<p:inputText style="width: 100%"  
						id="Bairro"
						placeholder="Bairro" 
						value="#{clienteController.cliente.bairro}"
						/>
					</div>
					<div class="col-lg-3 form-group">
						<p:inputText style="width: 100%"  
						id="Cidade"
						placeholder="Cidade" 
						value="#{clienteController.cliente.cidade}"
						/>
					</div>
					<div class="col-lg-1 form-group">
						<p:inputText style="width: 100%"  
						id="CEP"
						placeholder="CEP" 
						value="#{clienteController.cliente.cep}"
						/>
					</div>
					<div class="col-lg-12 form-group">
        				<p:selectBooleanCheckbox onchange="habilitarCampos()" value="#{clienteController.checkEntrega}" />
						<h:outputText value="Usar endereço do cliente como entrega" />
					</div>
					
					<div class="col-lg-3 form-group">
						<p:inputText style="width: 100%"  
						id="RuaEntrega"
						placeholder="Rua de Entrega"
						value="#{clienteController.cliente.ruaEntrega}"
						/>
					</div>
					<div class="col-lg-2 form-group">
						<p:inputText style="width: 100%" 
						id="NumeroEntrega"
						placeholder="Número de Entrega" 
						value="#{clienteController.cliente.numEndEntrega}"
						/>
					</div>
					<div class="col-lg-3 form-group">
						<p:inputText style="width: 100%"  
						id="BairroEntrega"
						placeholder="Bairro de Entrega" 
						value="#{clienteController.cliente.bairroEntrega}"
						/>
					</div>
					<div class="col-lg-2 form-group">
						<p:inputText style="width: 100%"  
						id="CidadeEntrega"
						placeholder="Cidade de Entrega"
						value="#{clienteController.cliente.cidadeEntrega}"
						/>
					</div>
					<div class="col-lg-2 form-group">
						<p:inputText style="width: 100%"  
						id="CEPEntrega"
						placeholder="CEP de Entrega" 
						value="#{clienteController.cliente.cepEntrega}"
						/>
					</div>
					
					<div  class="col-lg-12 form-group">
						  <p:commandButton value= "Salvar" update="messages gridFuncionario" styleClass="ui-button-primary btn btn-success" action="#{clienteController.adicionarCliente}" >
						  </p:commandButton>
						  <p:commandButton immediate="true" value="Limpar" actionListener="#{clienteController.limparDados}"  update="@form:formulario"  styleClass="ui-button-primary btn btn-primary" >
				          	 <p:resetInput target="formulario" />
				          </p:commandButton>
					</div>
					</h:form>
			</div>
			
				
			<p:dataTable id='gridFuncionario' emptyMessage="Nenhum Registro Encontrado"
			scrollable="true"
			selectionMode="single"
			var="cliente" 
			scrollHeight="50%"
			selection="#{clienteController.selecionaCliente}"
			rowKey="#{cliente.codigo}"
			value="#{clienteController.listaClientes()}">
				<p:ajax update="formulario"  event="rowSelect" listener="#{clienteController.trazerDados}"/>
				
   				<p:column headerText="Código"
   					style="width: 90px;text-align: center"
   					filterMatchMode="contains"
   					sortBy="#{cliente.codigo}">
   					<h:outputText value="#{cliente.codigo}" />
   				</p:column>

   				<p:column headerText="Nome" 
   					style="width:100%">
   					<h:outputText value="#{cliente.nome}" />
   				</p:column>

   				<p:column headerText="CPF"
   					style="width: 160px;text-align: center">
   					<h:outputText styleClass="text-center" value="#{cliente.cpf}" />
   				</p:column>

				<p:column headerText="RG"
   					style="width: 160px;text-align: center">
   					<h:outputText styleClass="text-center" value="#{cliente.rg}" />
   				</p:column>
   				
   				<p:column headerText="Empresa"
   					style="width: 160px;text-align: center">
   					<h:outputText styleClass="text-center" />
   				</p:column>
   				
   				<p:column headerText="DDD (Celular)"
   					style='width: 120px;text-align: center' >
   					<h:outputText value="#{cliente.dddCelular}" />
   				</p:column>

   				<p:column headerText="Celular"
   					style='width: 140px;text-align: center'>
   					<h:outputText value="#{cliente.celular}"/>
   				</p:column>
   				
   				<p:column headerText=""
   					style='width: 100px;text-align: center'>
   					<h:form>
	   					<p:commandButton update="gridFuncionario" action="#{clienteController.excluirCliente(cliente)}" value="Excluir">
	   					</p:commandButton>
   					</h:form>
   					
   				</p:column>

   			</p:dataTable>
		
  </h:body>
  
</html>  